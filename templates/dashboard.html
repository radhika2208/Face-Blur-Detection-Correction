{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Face Detection & Blur Analysis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Face Detection & Blur Analysis</h1>

    <!-- Upload Image -->
    <div class="mb-4">
        <h4>Upload Image</h4>
        <input type="file" id="imageInput" class="form-control">
        <button id="uploadBtn" class="btn btn-primary mt-2">Upload</button>
        <p id="uploadResult" class="mt-2"></p>
    </div>

    <!-- Analyze Image -->
    <div class="mb-4">
    <h4>Analyze Uploaded Image</h4>
    <!-- Hidden field storing dynamic path -->
    <input type="hidden" id="imagePathInput" value="{{ dynamic_image_path }}">
    <button id="analyzeBtn" class="btn btn-primary mt-2">Analyze</button>
    <div id="analysisResult"></div>
    </div>

    <!-- List Previous Evaluations -->
    <div>
        <h4>Previous Evaluations</h4>
        <button id="loadEvaluationsBtn" class="btn btn-primary mt-2">Load Evaluations</button>
        <table class="table table-bordered" id="evaluationsTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Image Path</th>
                    <th>Human Face</th>
                    <th>Blurry</th>
                    <th>Corrected Image</th>
                    <th>Created On</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
</body>
</html>
